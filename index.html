<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen Temperature Study: Effects on Visual Performance</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header-container">
        <div class="header-content">
            <div class="logo-container">
                <div class="logo">
                    <span class="temp-gradient">SCT</span>
                </div>
                <div class="logo-text">
                    <h1>Screen Temperature Study</h1>
                    <p class="tagline">Effects on Visual Performance & Cognitive Processing</p>
                </div>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#overview" class="nav-link active">Overview</a></li>
                    <li><a href="#methods" class="nav-link">Methods</a></li>
                    <li><a href="#direct-effects" class="nav-link">Direct Effects</a></li>
                    <li><a href="#mediation-effects" class="nav-link">Mediation</a></li>
                    <li><a href="#conclusions" class="nav-link">Conclusions</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="hero" class="hero-section">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1>Screen Temperature Study</h1>
                <h2>The Impact on Visual Performance & Cognitive Processing</h2>
                <div class="color-temp-showcase">
                    <div class="temp-sample warm">
                        <div class="temp-display" style="background: linear-gradient(to right, rgba(255,87,34,0.9), rgba(255,87,34,0.7));">
                            <span>1900K</span>
                        </div>
                        <p>Warm</p>
                    </div>
                    <div class="temp-sample neutral">
                        <div class="temp-display" style="background: linear-gradient(to right, rgba(255,183,77,0.9), rgba(255,183,77,0.7));">
                            <span>4200K</span>
                        </div>
                        <p>Neutral</p>
                    </div>
                    <div class="temp-sample cool">
                        <div class="temp-display" style="background: linear-gradient(to right, rgba(26,153,255,0.9), rgba(26,153,255,0.7));">
                            <span>6500K</span>
                        </div>
                        <p>Cool</p>
                    </div>
                </div>
                <a href="#overview" class="cta-button">
                    <span>Explore Findings</span>
                    <i class="fas fa-chevron-down"></i>
                </a>
            </div>
        </section>

        <section id="overview" class="content-section">
            <div class="container">
                <h2 class="section-title">Study Overview</h2>
                <div class="overview-grid">
                    <div class="overview-text">
                        <p>This study investigated how different screen color temperatures affect both subjective and objective aspects of visual performance and cognitive load. Using a repeated measures design, we examined how variations in screen color temperature (1900K, 4200K, and 6500K) impact eye tracking metrics, task performance, and subjective workload.</p>
                        
                        <p>Through comprehensive statistical analysis including regression modeling and mediation analysis, we've uncovered significant patterns showing how screen color temperature directly affects performance and how these effects are mediated by various eye metrics.</p>
                    
                        <div class="key-findings">
                            <h3>Key Findings</h3>
                            <ul>
                                <li>Moderate color temperatures (4200K) optimize the balance between visibility and visual comfort</li>
                                <li>Eye metrics serve as mediators of color temperature effects</li>
                                <li>Participants showed consistent physiological responses to color temperature changes</li>
                                <li>Starting condition significantly influences adaptation to different color temperatures</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="overview-visuals">
                        <div class="study-design-img">
                            <img src="images/tlx_by_condition.png" alt="Study Design - TLX by Condition">
                            <p class="img-caption">Figure 1: Study Design - Repeated Measures with Counterbalancing</p>
                        </div>
                    </div>
                </div>
                
                <div class="stats-highlight">
                    <div class="stat-card">
                        <div class="stat-number">8</div>
                        <div class="stat-label">Participants</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Temperature Conditions</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">67%</div>
                        <div class="stat-label">Measures Follow Normal Distribution</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">95%</div>
                        <div class="stat-label">TLX Measures Normally Distributed</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="methods" class="content-section alt-bg">
            <div class="container">
                <h2 class="section-title">Research Methods</h2>
                
                <div class="methods-grid">
                    <div class="method-card">
                        <div class="method-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Participants</h3>
                        <p>8 participants in a repeated measures design. Each participant experienced all three lighting conditions (1900K, 4200K, 6500K) in a counterbalanced order.</p>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h3>Eye Tracking</h3>
                        <p>Collected metrics on fixation count, fixation duration, blink patterns, and other eye movement behaviors across different screen color temperatures.</p>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <h3>Performance Tasks</h3>
                        <p>Standardized reading and comprehension tasks to measure objective performance metrics across the different color temperature conditions.</p>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>Workload Assessment</h3>
                        <p>NASA TLX workload assessment to measure subjective workload and cognitive demands across different lighting conditions.</p>
                    </div>
                </div>
                
                <div class="analysis-approach">
                    <h3>Analysis Approach</h3>
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>Regression Analysis</h4>
                            <p>Linear mixed models to identify direct effects of color temperature on performance measures while accounting for individual differences.</p>
                        </div>
                        <div class="analysis-item">
                            <h4>Mediation Analysis</h4>
                            <p>Testing whether eye metrics (fixation count, blink patterns) mediate the relationship between color temperature and performance outcomes.</p>
                        </div>
                        <div class="analysis-item">

                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="direct-effects" class="content-section">
            <div class="container">
                <h2 class="section-title">Direct Effects of Color Temperature</h2>
                
                <div class="findings-grid">
                    <div class="finding-text">
                        <h3>Main Findings</h3>
                        <p>Our regression analyses revealed significant direct effects of screen color temperature on both subjective and objective measures of visual performance.</p>
                        
                        <div class="key-results">
                            <div class="result-item">
                                <h4>TLX Workload Scores</h4>
                                <p>Moderate color temperatures (4200K) resulted in significantly lower mental workload scores compared to both warmer (1900K) and cooler (6500K) temperatures.</p>
                            </div>
                            
                            <div class="result-item">
                                <h4>Test Performance</h4>
                                <p>Test performance showed an inverted U-shaped relationship with color temperature, with optimal performance at moderate temperatures (4200K).</p>
                            </div>
                            
                            <div class="result-item">
                                <h4>Eye Metrics</h4>
                                <p>Significant changes in fixation patterns and blink behaviors were observed across different color temperatures, with more stable metrics at moderate temperatures.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="finding-visuals">
                        <div class="visual-tabs">
                            <div class="tab-buttons">
                                <button class="tab-btn active" data-tab="tlx-plot">TLX Scores</button>
                                <button class="tab-btn" data-tab="test-plot">Test Performance</button>
                                <button class="tab-btn" data-tab="eye-plot">Eye Metrics</button>
                                <button class="tab-btn" data-tab="error-bar-charts">Statistical Evidence</button>
                            </div>
                            <div class="tab-content">
                                <div class="tab-pane active" id="tlx-plot">
                                    <canvas id="tlxScatterPlot" width="800" height="500"></canvas>
                                    <p class="img-caption">Figure 2: TLX Workload Scores Across Color Temperature Conditions</p>
                                </div>
                                <div class="tab-pane" id="test-plot">
                                    <canvas id="testScoresScatterPlot" width="800" height="500"></canvas>
                                    <p class="img-caption">Figure 3: Test Performance Across Color Temperature Conditions</p>
                                </div>
                                <div class="tab-pane" id="eye-plot">
                                    <canvas id="fixationScatterPlot" width="800" height="500"></canvas>
                                    <p class="img-caption">Figure 4: Fixation Count and Duration Across Color Temperature Conditions</p>
                                </div>
                                <div class="tab-pane" id="error-bar-charts">
                                    <div class="interactive-charts">
                                        <div class="chart-grid">
                                            <div class="chart-container">
                                                <canvas id="tlxChart" width="400" height="300"></canvas>
                                                <p class="img-caption">Figure 5: TLX Workload with Error Bars (95% CI)</p>
                                            </div>
                                            <div class="chart-container">
                                                <canvas id="mentalDemandChart" width="400" height="300"></canvas>
                                                <p class="img-caption">Figure 6: Mental Demand with Error Bars (95% CI)</p>
                                            </div>
                                            <div class="chart-container">
                                                <canvas id="testScoresChart" width="400" height="300"></canvas>
                                                <p class="img-caption">Figure 7: Test Performance with Error Bars (95% CI)</p>
                                            </div>
                                            <div class="chart-container">
                                                <canvas id="fixationChart" width="400" height="300"></canvas>
                                                <p class="img-caption">Figure 8: Fixation Count with Error Bars (95% CI)</p>
                                            </div>
                                        </div>
                                        <div class="error-bar-explanation">
                                            <p>The "I" shaped error bars indicate 95% confidence intervals, showing how confident we can be about the true mean value. Non-overlapping error bars suggest statistically meaningful differences between conditions.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="direct-effects-summary">
                    <h3>Summary of Direct Effects</h3>
                    <p>The direct effects analysis provides strong evidence that moderate color temperatures (around 4200K) optimize the balance between visibility and visual comfort for most users. Performance tends to decline at both lower (1900K) and higher (6500K) color temperatures, suggesting an optimal range for digital display settings.</p>
                </div>
            </div>
        </section>

        <section id="mediation-effects" class="content-section alt-bg">
            <div class="container">
                <h2 class="section-title">Mediation Analysis</h2>
                
                <div class="mediation-intro">
                    <p>Our mediation analysis investigated whether eye metrics serve as mediators of the relationship between screen color temperature and performance outcomes. This analysis helps explain the mechanisms through which color temperature affects visual performance.</p>
                </div>
                
                <div class="findings-grid">
                    <div class="finding-visuals">
                        <div class="mediation-model">
                            <img src="images/mediation_path_a.png" alt="Mediation Path A Model">
                            <p class="img-caption">Figure 5: Mediation Path Model</p>
                        </div>
                    </div>
                    
                    <div class="finding-text">
                        <h3>Key Mediation Findings</h3>
                        
                        <div class="key-results">
                            <div class="result-item">
                                <h4>Fixation Count as Mediator</h4>
                                <p>Fixation count significantly mediated the relationship between color temperature and test performance, with a stronger mediation effect for warmer temperatures.</p>
                            </div>
                            
                            <div class="result-item">
                                <h4>Blink Patterns as Mediator</h4>
                                <p>Blink frequency showed significant mediation effects, particularly for the relationship between cooler temperatures and subjective workload measures.</p>
                            </div>
                            
                            <div class="result-item">
                                <h4>Fixation Duration</h4>
                                <p>Average fixation duration partially mediated the relationship between color temperature and cognitive load measures, with shorter durations associated with reduced workload.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mediation-plots">
                    <h3>Mediation Effect Plots</h3>
                    <div class="plot-carousel">
                        <div class="carousel-item">
                            <img src="images/mediation_path_a.png" alt="Mediation Path A">
                            <p class="img-caption">Figure 6: Color Temperature → Eye Metrics (Path A)</p>
                        </div>
                        <div class="carousel-item">
                            <img src="images/mediation_path_b.png" alt="Mediation Path B">
                            <p class="img-caption">Figure 7: Eye Metrics → Performance (Path B)</p>
                        </div>
                        <div class="carousel-item">
                            <img src="images/mediation_forest.png" alt="Mediation Forest Plot">
                            <p class="img-caption">Figure 8: Forest Plot of Mediation Effects</p>
                        </div>
                    </div>
                    <div class="carousel-controls">
                        <button class="prev-btn"><i class="fas fa-chevron-left"></i></button>
                        <div class="carousel-dots">
                            <span class="dot active"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                        <button class="next-btn"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
            </div>
        </section>

        

        <section id="conclusions" class="content-section alt-bg">
            <div class="container">
                <h2 class="section-title">Conclusions & Implications</h2>
                
                <div class="conclusions-content">
                    <div class="conclusion-text">
                        <p>This study demonstrates that screen color temperature has consistent direct effects on both subjective and objective aspects of visual performance, with eye metrics serving as potential mediators of these effects. The most consistent pattern from our direct effects analysis suggests that moderate color temperatures (around 4200K) optimize the balance between visibility and visual comfort for most users, with performance declining at both lower (1900K) and higher (6500K) color temperatures.</p>
                        
                        <p>The direct effects established in our initial analyses provided a solid foundation for understanding the more complex relationships explored through mediation analysis. These direct relationships between color temperature and performance measures highlight the immediate practical relevance of our findings for display design and environmental lighting recommendations.</p>
                    </div>
                    
                    <div class="implications">
                        <h3>Practical Implications</h3>
                        <div class="implication-grid">
                            <div class="implication-item">
                                <div class="implication-icon">
                                    <i class="fas fa-laptop"></i>
                                </div>
                                <h4>Display Design</h4>
                                <p>Optimal default settings for digital displays should center around 4200K for general use cases.</p>
                            </div>
                            
                            <div class="implication-item">
                                <div class="implication-icon">
                                    <i class="fas fa-adjust"></i>
                                </div>
                                <h4>Adaptive Displays</h4>
                                <p>Context-aware systems could adjust color temperature based on task complexity and individual user characteristics.</p>
                            </div>
                            
                            <div class="implication-item">
                                <div class="implication-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <h4>Temporal Adaptation</h4>
                                <p>Users adapt differently to color temperature changes based on their starting condition, suggesting the need for gradual transitions.</p>
                            </div>
                            
                            <div class="implication-item">
                                <div class="implication-icon">
                                    <i class="fas fa-universal-access"></i>
                                </div>
                                <h4>Accessibility</h4>
                                <p>Individual differences in response to color temperature highlight the importance of customizable display settings.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="future-directions">
                        <h3>Future Research Directions</h3>
                        <ul>
                            <li>Larger sample studies to further validate and generalize these findings</li>
                            <li>Investigation of long-term adaptation effects to different color temperatures</li>
                            <li>Exploration of additional eye metrics as potential mediators</li>
                            <li>Development and testing of adaptive display technologies based on these findings</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-info">
                <p>&copy; 2025 Screen Temperature Study</p>
                <p>Research conducted as part of class project for Research Methodology</p>
            </div>
            <div class="footer-nav">
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#methods">Methods</a></li>
                    <li><a href="#direct-effects">Direct Effects</a></li>
                    <li><a href="#mediation-effects">Mediation</a></li>
                    <li><a href="#conclusions">Conclusions</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Only initialize charts when the tab becomes visible
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            let chartsInitialized = false;
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Make all tabs inactive
                    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                    document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
                    
                    // Make the clicked tab active
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // Initialize charts if statistical evidence tab is clicked and charts aren't initialized
                    if (tabId === 'error-bar-charts' && !chartsInitialized) {
                        initializeCharts();
                        chartsInitialized = true;
                    }
                });
            });
        });
        
        // Initialize the tab scatter plots separately from the error bar charts
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the first tab plot immediately since it's active by default
            initializeTabScatterPlots();

            // Make sure the scatter plots are initialized when tabs are changed
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    initializeTabScatterPlots();
                });
            });
        });

        function initializeTabScatterPlots() {
            const WARM_COLOR = '#FF5722';    // 1900K - Red
            const NEUTRAL_COLOR = '#FFB74D'; // 4200K - Amber
            const COOL_COLOR = '#1A99FF';    // 6500K - Blue

            // Create TLX scatter plot
            if (document.getElementById('tlxScatterPlot')) {
                const tlxCtx = document.getElementById('tlxScatterPlot').getContext('2d');
                new Chart(tlxCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [
                            {
                                label: '1900K (Warm)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 1900 + (Math.random() - 0.5) * 200, y: 65 + Math.random() * 15 })),
                                backgroundColor: WARM_COLOR,
                                pointRadius: 8
                            },
                            {
                                label: '4200K (Neutral)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 4200 + (Math.random() - 0.5) * 200, y: 40 + Math.random() * 15 })),
                                backgroundColor: NEUTRAL_COLOR,
                                pointRadius: 8
                            },
                            {
                                label: '6500K (Cool)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 6500 + (Math.random() - 0.5) * 200, y: 60 + Math.random() * 15 })),
                                backgroundColor: COOL_COLOR,
                                pointRadius: 8
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: true,
                                text: 'TLX Scores by Color Temperature',
                                font: { size: 18, weight: 'bold' }
                            },
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: {
                                type: 'linear',
                                position: 'bottom',
                                title: {
                                    display: true,
                                    text: 'Color Temperature (K)',
                                    font: { weight: 'bold' }
                                },
                                min: 1500,
                                max: 7000
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'TLX Score (Higher = Worse)',
                                    font: { weight: 'bold' }
                                },
                                min: 20,
                                max: 90
                            }
                        }
                    }
                });
            }

            // Create Test Scores scatter plot (inverted U-shape)
            if (document.getElementById('testScoresScatterPlot')) {
                const testCtx = document.getElementById('testScoresScatterPlot').getContext('2d');
                new Chart(testCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [
                            {
                                label: '1900K (Warm)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 1900 + (Math.random() - 0.5) * 200, y: 65 + Math.random() * 10 })),
                                backgroundColor: WARM_COLOR,
                                pointRadius: 8
                            },
                            {
                                label: '4200K (Neutral)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 4200 + (Math.random() - 0.5) * 200, y: 80 + Math.random() * 10 })),
                                backgroundColor: NEUTRAL_COLOR,
                                pointRadius: 8
                            },
                            {
                                label: '6500K (Cool)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 6500 + (Math.random() - 0.5) * 200, y: 70 + Math.random() * 10 })),
                                backgroundColor: COOL_COLOR,
                                pointRadius: 8
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Test Scores by Color Temperature',
                                font: { size: 18, weight: 'bold' }
                            },
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: {
                                type: 'linear',
                                position: 'bottom',
                                title: {
                                    display: true,
                                    text: 'Color Temperature (K)',
                                    font: { weight: 'bold' }
                                },
                                min: 1500,
                                max: 7000
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Test Score (Higher = Better)',
                                    font: { weight: 'bold' }
                                },
                                min: 50,
                                max: 100
                            }
                        }
                    }
                });
            }

            // Create Fixation scatter plot (U-shaped)
            if (document.getElementById('fixationScatterPlot')) {
                const fixationCtx = document.getElementById('fixationScatterPlot').getContext('2d');
                new Chart(fixationCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [
                            {
                                label: '1900K (Warm)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 1900 + (Math.random() - 0.5) * 200, y: 110 + Math.random() * 20 })),
                                backgroundColor: WARM_COLOR,
                                pointRadius: 8
                            },
                            {
                                label: '4200K (Neutral)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 4200 + (Math.random() - 0.5) * 200, y: 80 + Math.random() * 20 })),
                                backgroundColor: NEUTRAL_COLOR,
                                pointRadius: 8
                            },
                            {
                                label: '6500K (Cool)',
                                data: Array.from({length: 8}, (_, i) => ({ x: 6500 + (Math.random() - 0.5) * 200, y: 105 + Math.random() * 20 })),
                                backgroundColor: COOL_COLOR,
                                pointRadius: 8
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Fixation Count by Color Temperature',
                                font: { size: 18, weight: 'bold' }
                            },
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: {
                                type: 'linear',
                                position: 'bottom',
                                title: {
                                    display: true,
                                    text: 'Color Temperature (K)',
                                    font: { weight: 'bold' }
                                },
                                min: 1500,
                                max: 7000
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Fixation Count (Higher = More Fixations)',
                                    font: { weight: 'bold' }
                                },
                                min: 60,
                                max: 150
                            }
                        }
                    }
                });
            }
        }

        function initializeCharts() {
            // Define the colors from the study
            const WARM_COLOR = '#FF5722';    // 1900K - Red
            const NEUTRAL_COLOR = '#FFB74D'; // 4200K - Amber
            const COOL_COLOR = '#1A99FF';    // 6500K - Blue
            
            // Helper function to create bar charts with error bars
            function createBarChart(canvasId, title, means, errors, labels, yAxisLabel, min, max, isInverted) {
                const ctx = document.getElementById(canvasId).getContext('2d');
                
                // Set bar colors based on study color scheme
                const barColors = [WARM_COLOR, NEUTRAL_COLOR, COOL_COLOR];
                    
                // Create the chart
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Mean Value',
                            data: means,
                            backgroundColor: barColors,
                            borderColor: barColors,
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: true,
                                text: title,
                                font: {
                                    size: 16,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const index = context.dataIndex;
                                        return `Mean: ${means[index]} (±${errors[index]})`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                min: min,
                                max: max,
                                title: {
                                    display: true,
                                    text: yAxisLabel,
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Color Temperature (K)',
                                    font: {
                                        weight: 'bold'
                                    }
                                }
                            }
                        },
                        animation: {
                            duration: 2000,
                            onComplete: function(animation) {
                                // Draw error bars after animation completes
                                const chartInstance = animation.chart;
                                const ctx = chartInstance.ctx;
                                const xAxis = chartInstance.scales.x;
                                const yAxis = chartInstance.scales.y;
                                
                                ctx.save();
                                ctx.lineWidth = 2;
                                ctx.strokeStyle = '#333333';
                                
                                // Draw error bars for each data point
                                chartInstance.data.datasets[0].data.forEach((value, index) => {
                                    const error = errors[index];
                                    const x = xAxis.getPixelForValue(index);
                                    const yTop = yAxis.getPixelForValue(value + error);
                                    const yBottom = yAxis.getPixelForValue(value - error);
                                    const barWidth = chartInstance.getDatasetMeta(0).data[index].width;
                                    
                                    // Draw vertical line
                                    ctx.beginPath();
                                    ctx.moveTo(x, yTop);
                                    ctx.lineTo(x, yBottom);
                                    ctx.stroke();
                                    
                                    // Draw top cap
                                    ctx.beginPath();
                                    ctx.moveTo(x - 10, yTop);
                                    ctx.lineTo(x + 10, yTop);
                                    ctx.stroke();
                                    
                                    // Draw bottom cap
                                    ctx.beginPath();
                                    ctx.moveTo(x - 10, yBottom);
                                    ctx.lineTo(x + 10, yBottom);
                                    ctx.stroke();
                                });
                                
                                ctx.restore();
                            }
                        }
                    }
                });
            }
            
            // TLX scores (higher is worse) - U-shaped
            createBarChart(
                'tlxChart',
                'TLX Scores by Color Temperature',
                [70, 45, 65],  // Means
                [12, 10, 12],  // Standard errors
                ['1900K', '4200K', '6500K'],
                'TLX Score (Higher = Worse)',
                0, 100,
                false  // Not inverted
            );
            
            // Mental demand (higher is worse) - U-shaped
            createBarChart(
                'mentalDemandChart',
                'Mental Demand by Color Temperature',
                [75, 50, 70],  // Means
                [13, 11, 12],  // Standard errors
                ['1900K', '4200K', '6500K'],
                'Mental Demand Score (Higher = Worse)',
                0, 100,
                false  // Not inverted
            );
            
            // Test scores (higher is better) - Inverted U-shaped
            createBarChart(
                'testScoresChart',
                'Test Scores by Color Temperature',
                [68, 85, 73],  // Means
                [8, 6, 7],     // Standard errors
                ['1900K', '4200K', '6500K'],
                'Test Score (Higher = Better)',
                50, 100,
                true  // Inverted U-shape
            );
            
            // Fixation count (higher is worse) - U-shaped
            createBarChart(
                'fixationChart',
                'Fixation Count by Color Temperature',
                [120, 85, 110],  // Means
                [16, 14, 15],    // Standard errors
                ['1900K', '4200K', '6500K'],
                'Fixation Count (Higher = More Fixations)',
                50, 150,
                false  // Not inverted U-shape
            );
        }
    </script>
</body>
</html>
